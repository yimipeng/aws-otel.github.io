{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/setup/build-collector-as-rpm",
    "result": {"data":{"mdx":{"id":"2c9dc326-4443-5bb9-9703-03836f1a605f","excerpt":"Run AWSOTelCollector Beta on AWS EC2 Linux To run AWSOTelCollector on AWS EC2 Linux host, you can choose to install AWSOTelCollector RPM on your host by theâ€¦","fields":{"slug":"/docs/setup/build-collector-as-rpm/"},"frontmatter":{"title":"Build Collector as RPM","description":"This page is for building Collector as RPM","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Build Collector as RPM\",\n  \"description\": \"This page is for building Collector as RPM\",\n  \"path\": \"/docs/setup/build-collector-as-rpm\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"run-awsotelcollector-beta-on-aws-ec2-linux\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#run-awsotelcollector-beta-on-aws-ec2-linux\",\n    \"aria-label\": \"run awsotelcollector beta on aws ec2 linux permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Run AWSOTelCollector Beta on AWS EC2 Linux\"), mdx(\"p\", null, \"To run AWSOTelCollector on AWS EC2 Linux host, you can choose to install AWSOTelCollector RPM on your host by the following steps.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Steps,\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Login on AWS Linux EC2 host and download aws-otel-collector source code and build RPM file with the following command.\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"git clone https://github.com/aws-observability/aws-otel-collector.git\\nmake package-rpm\\n\")), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Install aws-otel-collector RPM by the following command on the host\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"sudo rpm -Uvh  ./aws-otel-collector.rpm\\n\")), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Once RPM is installed, it will create AWSOTelCollector in directory \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/opt/aws/aws-otel-collector/\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"We provided a control script to manage AWSOTelCollector. Customer can use it to Start, Stop and Check Status of AWSOTelCollector.\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Start AWSOTelCollector with CTL script. The config.yaml is optional, if it is not provided the default \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"../../config.yaml\"\n  }, \"config\"), \" will be applied.\")), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"    sudo /opt/aws/aws-otel-collector/bin/aws-otel-collector-ctl -c </path/config.yaml> -a start\\n\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Stop the running AWSOTelCollector when finish the testing.\")), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"    sudo /opt/aws/aws-otel-collector/bin/aws-otel-collector-ctl  -a stop\\n\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Check the status of AWSOTelCollector\")), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"    sudo /opt/aws/aws-otel-collector/bin/aws-otel-collector-ctl  -a status\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Test the data with the running AWSOTelCollector on EC2. you can run the following command on EC2 host. (Docker app has to be pre-installed)\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"docker run --rm -it -e \\\"OTEL_OTLP_ENDPOINT=172.17.0.1:55680\\\" -e \\\"otlp_instance_id=test_insance_rpm\\\" -e \\\"OTEL_RESOURCE_ATTRIBUTES=service.namespace=AWSOTelCollectorRPMDemo,service.name=AWSOTelCollectorRPMDemoService\\\" -e S3_REGION=us-west-2 aottestbed/aws-otel-collector-sample-app:java-0.1.0\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"View Your Metrics\"), \"\\nYou should now be able to view your metrics in your \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://console.aws.amazon.com/cloudwatch/\"\n  }, \"CloudWatch console\"), \". In the navigation bar, click on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Metrics\"), \". The collected AWSOTelCollector metrics can be found in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"AWSOTelCollectorRPMDemo/AWSOTelCollectorRPMDemoService\"), \" namespace.\"), mdx(\"h3\", {\n    \"id\": \"installing-awsotelcollector-via-cloudformation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#installing-awsotelcollector-via-cloudformation\",\n    \"aria-label\": \"installing awsotelcollector via cloudformation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Installing AWSOTelCollector via CloudFormation\"), mdx(\"h3\", {\n    \"id\": \"install-awsotelcollector-on-ecs-ec2\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#install-awsotelcollector-on-ecs-ec2\",\n    \"aria-label\": \"install awsotelcollector on ecs ec2 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Install AWSOTelCollector on ECS EC2\"), mdx(\"p\", null, \"Download CloudFormation template file for installing AWSOTelCollector on ECS EC2 mode\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"curl -O https://github.com/mxiamxia/aws-opentelemetry-collector/blob/master/deployment-template/ec2/aws-otel-ec2-deployment-cfn.template\\n\")), mdx(\"p\", null, \"Run CloudFormation the following command once \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"IAMRole\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Region\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EC2Key\"), \" and  \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CFN_File_Downloaded\"), \" are filled.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"Region=<aws-region>\\nIAMRole=<iam-role>\\nEC2Key=<ec2-ssh-key-name>\\naws cloudformation create-stack --stack-name AWSOTelCollectorEC2-Test \\\\\\n    --template-body file://<CFN_File_Downloaded> \\\\\\n    --parameters ParameterKey=IAMRole,ParameterValue=${IAMRole} \\\\\\n                 ParameterKey=KeyName,ParameterValue=${EC2Key} \\\\\\n    --capabilities CAPABILITY_NAMED_IAM \\\\\\n    --region ${Region}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Run AWSOTelCollector Beta on AWS EC2 Linux"},{"depth":3,"value":"Installing AWSOTelCollector via CloudFormation"},{"depth":3,"value":"Install AWSOTelCollector on ECS EC2"}]}},"pageContext":{"slug":"/docs/setup/build-collector-as-rpm/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/setup/build-collector-as-rpm.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}